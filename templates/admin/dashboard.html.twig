{% extends "@EasyAdmin/page/content.html.twig" %}

{% block main %}
<h1 class="text-center mt-5 mb-4">Bienvenue dans l'Administration</h1>

<div class="container mt-4">

    <!-- tâches assignées à l'administrateur -->
    <div class="card text-white bg-primary mb-3">
    <div class="card-body text-center">
        <h5 class="card-title">
            <i class="fas fa-user-cog"></i> Tâches assignées à moi
        </h5>
        <p class="card-text"><strong>{{ taches_admin }}</strong></p>
    </div>
</div>


    <h2 class="text-center mt-5 mb-5">Statistiques des Tâches</h2>
    
    <!-- statistiques des tâches -->
    <div class="row justify-content-center">
        <div class="col-md-3 mb-4">
            <div class="card border-success text-white bg-success shadow-lg">
                <div class="card-header"><i class="fas fa-check-circle"></i> Tâches Terminées</div>
                <div class="card-body">
                    <h4 class="card-title text-center text-white">{{ taches_terminees }}</h4>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-4">
            <div class="card border-warning text-white bg-warning shadow-lg">
                <div class="card-header"><i class="fas fa-hourglass-half"></i> Tâches en Cours</div>
                <div class="card-body">
                    <h4 class="card-title text-center text-white">{{ taches_en_cours }}</h4>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-4">
            <div class="card border-secondary text-white bg-dark shadow-lg">
                <div class="card-header"><i class="fas fa-tasks"></i> Tâches à Faire</div>
                <div class="card-body">
                    <h4 class="card-title text-center text-white">{{ taches_a_faire }}</h4>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-4">
            <div class="card border-info text-white bg-info shadow-lg">
                <div class="card-header"><i class="fas fa-list-ul"></i> Total de Tâches</div>
                <div class="card-body">
                    <h4 class="card-title text-center text-white">{{ total_taches }}</h4>
                </div>
            </div>
        </div>
    </div>

     <!-- 5 dernières tâches ajoutées -->
    <div class="mt-5">
        <h3 class="text-center mb-4"><i class="fas fa-clipboard-list"></i> 5 Dernières Tâches Ajoutées</h3>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Titre</th>
                        <th scope="col">Statut</th>
                        <th scope="col">Ajouté par</th>
                    </tr>
                </thead>
                <tbody>
                    {% for tache in latest_taches %}
                        <tr>
                            <th scope="row">{{ tache.id }}</th>
                            <td>{{ tache.titre }}</td>
                            <td>{{ tache.statut }}</td>
                            <td>{{ tache.user.prenom }} {{ tache.user.nom }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

</div>
{% endblock %}
